<div class="admin-container">
  <header>
    <h1>Admin Panel</h1>
    <button (click)="logout()">Logout</button>
  </header>

  <div class="content">
    <section class="users-section">
      <h2>Users</h2>
      <div class="users-list">
        <div *ngFor="let user of users" class="user-card">
          <p><strong>{{ user.fullName }}</strong> ({{ user.username }})</p>
          <p>Email: {{ user.email }}</p>
          <p>Role: {{ user.role }}</p>
          <p>Voter ID: {{ user.voterId }}</p>
        </div>
      </div>

      <h3>Create New User</h3>
      <form (ngSubmit)="createUser()">
        <input [(ngModel)]="newUser.username" name="username" placeholder="Username" required>
        <input [(ngModel)]="newUser.password" name="password" type="password" placeholder="Password" required>
        <input [(ngModel)]="newUser.email" name="email" placeholder="Email" required>
        <input [(ngModel)]="newUser.fullName" name="fullName" placeholder="Full Name" required>
        <input [(ngModel)]="newUser.voterId" name="voterId" placeholder="Voter ID" required>
        <select [(ngModel)]="newUser.role" name="role">
          <option value="USER">User</option>
          <option value="ADMIN">Admin</option>
        </select>
        <button type="submit">Create User</button>
      </form>
    </section>

    <section class="elections-section">
      <h2>Elections</h2>
      <div class="elections-list">
        <div *ngFor="let election of elections" class="election-card">
          <h3>{{ election.title }}</h3>
          <p>{{ election.description }}</p>
          <p>Status: {{ election.isActive ? 'Active' : 'Inactive' }}</p>
          <button (click)="toggleElectionStatus(election.id)">
            {{ election.isActive ? 'Deactivate' : 'Activate' }}
          </button>
        </div>
      </div>

      <h3>Create New Election</h3>
      <form (ngSubmit)="createElection()">
        <input [(ngModel)]="newElection.title" name="title" placeholder="Title" required>
        <textarea [(ngModel)]="newElection.description" name="description" placeholder="Description" required></textarea>
        <input [(ngModel)]="newElection.startTime" name="startTime" type="datetime-local" required>
        <input [(ngModel)]="newElection.endTime" name="endTime" type="datetime-local" required>
        <button type="submit">Create Election</button>
      </form>
    </section>
  </div>
</div>
